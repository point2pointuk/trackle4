<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="manifest" href="/manifest.json" />
    <meta charset="UTF-8" />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rackle</title>
    <meta name="theme-color" content="#ee7c0e" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <style>
      iframe {
        border: none;
        width: 100%;
        height: 100%;
      }
      body,
      html {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
      }
    </style>
    <script>
      function updateThemeColor() {
        const metaThemeColor = document.querySelector(
          "meta[name='theme-color']"
        );
        const isDarkMode = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;

        // Update the content based on the current theme
        if (isDarkMode) {
          metaThemeColor.setAttribute("content", "#BD4B00"); // Dark purple for dark theme
        } else {
          metaThemeColor.setAttribute("content", "#ee7c0e"); // Original purple for light theme
        }
      }

      // Run the function to set the initial theme color
      updateThemeColor();

      // Listen for changes in theme preference
      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", updateThemeColor);
    </script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <script
      src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <link rel="stylesheet" href="/overground/style.css" />
    <script src="/overground/main.js" type="text/javascript"></script>
    <script src="/overground/places.js" type="text/javascript"></script>
    <script src="/overground/game.js" type="text/javascript"></script>
    <script>
      window.onload = loadPage;
    </script>
  </head>
  <body>
    <div class="game">
      <div class="header">
        <a href="/index.html"><button class="backButton">Back</button></a>
        <center><h1>London Overground</h1></center>
        <button class="resetButton" onclick="app.resetGame()">Reset</button>
      </div>

      <div id="mapContainer">
        <div id="map"></div>
      </div>

      <div class="formContainer">
        <div class="form">
          <input id="guess" type="text" placeholder="Enter a station" />
        </div>
        <br />
        <div id="scoreContainer">
          <strong><span id="score"></span> / <span id="total"></span></strong>
        </div>
        <a
          href="/credits.html"
          style="text-decoration: none; color: inherit; outline: none"
          >Credits</a
        >
      </div>
    </div>
  </body>
</html>
